// Velocity d44d001
// Standalone: true
// Platform: Universal
// Updater Disabled: false
"use strict";function d(e,t=300){let i;return function(...s){clearTimeout(i),i=setTimeout(()=>{e(...s)},t)}}var n=require("electron"),l=require("fs"),c=require("path");var r=require("electron");function o(e,...t){return r.ipcRenderer.invoke(e,...t)}function a(e,...t){return r.ipcRenderer.sendSync(e,...t)}var S={},C=a("VelocityGetPluginIpcMethodMap");for(let[e,t]of Object.entries(C)){let i=S[e]={};for(let[s,R]of Object.entries(t))i[s]=(...m)=>o(R,...m)}var E={themes:{uploadTheme:(e,t,i)=>o("VelocityUploadTheme",e,t,i),deleteTheme:e=>o("VelocityDeleteTheme",e),getThemesList:()=>o("VelocityGetThemesList"),getThemeData:(e,t)=>o("VelocityGetThemeData",e,t),getVelocityThemes:()=>o("VelocityGetBuiltInThemes"),getSystemValues:()=>o("VelocityGetThemeSystemValues"),openFolder:()=>o("VelocityOpenThemesFolder")},updater:{getUpdates:()=>o("VelocityGetUpdates"),update:()=>o("VelocityUpdate"),rebuild:()=>o("VelocityBuild"),getRepo:()=>o("VelocityGetRepo")},settings:{get:()=>a("VelocityGetSettings"),set:(e,t)=>o("VelocitySetSettings",e,t),openFolder:()=>o("VelocityOpenSettingsFolder")},quickCss:{get:()=>o("VelocityGetQuickCss"),set:e=>o("VelocitySetQuickCss",e),addChangeListener(e){r.ipcRenderer.on("VelocityQuickCssUpdate",(t,i)=>e(i))},addThemeChangeListener(e){r.ipcRenderer.on("VelocityThemeUpdate",()=>e())},openFile:()=>o("VelocityOpenQuickCss"),openEditor:()=>o("VelocityOpenMonacoEditor"),getEditorTheme:()=>a("VelocityGetMonacoTheme")},native:{getVersions:()=>process.versions,openExternal:e=>o("VelocityOpenExternal",e),getRendererCss:()=>o("VelocityGetRendererCss"),onRendererCssUpdate:e=>{}},csp:{isDomainAllowed:(e,t)=>o("VelocityCspIsDomainAllowed",e,t),removeOverride:e=>o("VelocityCspRemoveOverride",e),requestAddOverride:(e,t,i)=>o("VelocityCspRequestAddOverride",e,t,i)},tray:{setUpdateState:e=>r.ipcRenderer.send("VelocitySetTrayUpdateState",e),onCheckUpdates:e=>{r.ipcRenderer.on("VelocityTrayCheckUpdates",e)},onRepair:e=>{r.ipcRenderer.on("VelocityTrayRepair",e)},onSupportServer:e=>{r.ipcRenderer.on("VelocityTrayJoinSupportServer",e)}},pluginHelpers:S};n.contextBridge.exposeInMainWorld("VelocityNative",E);if(location.protocol!=="data:"){let e=(0,c.join)(__dirname,"velocityDesktopRenderer.css"),t=document.createElement("style");t.id="velocity-css-core",t.textContent=(0,l.readFileSync)(e,"utf-8"),document.readyState==="complete"?document.documentElement.appendChild(t):document.addEventListener("DOMContentLoaded",()=>document.documentElement.appendChild(t),{once:!0})}else n.contextBridge.exposeInMainWorld("setCss",d(E.quickCss.set)),n.contextBridge.exposeInMainWorld("getCurrentCss",E.quickCss.get),n.contextBridge.exposeInMainWorld("getTheme",()=>"vs-dark");
//# sourceURL=file:///VelocityPreload
//# sourceMappingURL=velocity://velocityDesktopPreload.js.map
